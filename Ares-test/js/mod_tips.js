// Mod: Date Tips for Xin Calendar 2 (In-Page)
// Copyright 2004  Xin Yang    All Rights Reserved.

function addDateTips(co,cy,db,da,cz,ec,date,jp){xc_eg(co,"en",xc_fv(date,ec||xcDateFormat,xc_da),[cy,db,xc_bm],0);xc_bn[xc_bm++]=[cz||xcCSSDateTipBox,jp,da||xcCSSDateTipBoxTitle,date]};var xc_bm=0,xc_bl=null,xc_bo=0,xc_bn=new Array();function xc_eb(cc,js){var td=cc.parentElement?cc.parentElement:cc;clearTimeout(xc_bo);xc_bo=setTimeout("xc_fa("+xc_cm(td)+","+xc_cn(td)+","+td.offsetWidth+","+td.offsetHeight+","+js+")",xcDateTipTiming)};function xc_dz(){clearTimeout(xc_bo);xc_bo=setTimeout("xc_cx()",xcDateTipTiming)};function xc_ea(){clearTimeout(xc_bo)};function xc_dy(){xc_bo=setTimeout("xc_cx()",xcDateTipTiming)};function xc_dd(js){if(xc_bl==null){xc_bl=xc_db();xc_bl.className=xc_bn[js][0];if(xcIsIE55up&&!xcIsMac){xc_bl.onmouseenter=xc_ea;xc_bl.onmouseleave=xc_dy}else{xc_bl.onmouseover=xc_ea;xc_bl.onmouseout=xc_dy};xc_bl.jr=-1};if(xc_bl.jr!=js){xc_bl.scrollTop=0;xc_bl.scrollLeft=0;xc_bl.innerHTML=(xcDateTipBoxTitleSwitch?xcDIV(xc_bn[js][2],xc_bn[js][3]):"")+xc_bn[js][1]}};function xc_fa(x,y,w,h,js){xc_dd(js);if(xc_bl.jr!=js){xc_cx();var jt=xc_bl.offsetWidth,jq=xc_bl.offsetHeight;var dx=dy=0;if(xcDateTipBoxPosition==0||xcDateTipBoxPosition==6){dx=xcDateTipBoxAlign==0?0:xcDateTipBoxAlign==1?Math.floor((w-jt)/2):(w-jt);dy=xcDateTipBoxPosition==0?-jq:h}else{dx=xcDateTipBoxPosition==9?-jt:w;dy=xcDateTipBoxValign==0?0:xcDateTipBoxValign==1?Math.floor((h-jq)/2):(h-jq)};dx+=xcDateTipBoxOffsetX;dy+=xcDateTipBoxOffsetY;if(xc_bl.gx){xc_bl.gx.style.width=xc_bl.offsetWidth+"px";xc_bl.gx.style.height=xc_bl.offsetHeight+"px";xc_bl.gx.style.zIndex=xc_bl.style.zIndex-1;xc_dp(xc_bl.gx,x+dx,y+dy)};xc_bl.style.zIndex=++xcBaseZIndex;xc_dp(xc_bl,x+dx,y+dy);if(xc_bl.gx){xc_ey(xc_bl.gx)};if(xcIsIE&&!xcIsMac&&typeof(xc_bl.filters)!="undefined"&&typeof(xc_bl.filters)!="unknown"&&xc_bl.filters.length>0){for(var i=0;i<xc_bl.filters.length;i++){try{xc_bl.filters[i].Apply()}catch(fk){}}};xc_ey(xc_bl);if(xcIsIE&&!xcIsMac&&typeof(xc_bl.filters)!="undefined"&&typeof(xc_bl.filters)!="unknown"&&xc_bl.filters.length>0){for(var i=0;i<xc_bl.filters.length;i++){try{xc_bl.filters[i].Play()}catch(fk){}}};xc_bl.jr=js}};function xc_cx(){if(xc_bl){if(xc_bl.gx){xc_dp(xc_bl.gx,-1000,-1000)};xc_dp(xc_bl,-1000,-1000);if(xc_bl.gx){xc_cw(xc_bl.gx)};xc_cw(xc_bl);xc_bl.jr=-1}};function xc_dk(){var gl=xc_bp(this);return gl?("xc_eb(this,"+gl[2]+");"):""};function xc_dj(){var gl=xc_bp(this);return gl?("xc_dz();"):""};function xc_ah(date){clearTimeout(xc_bo);xc_cx();afterSetDateValue(this.iq,this.jg,date,this.gw)};function xc_bp(bj){return bj.gd("en",bj.date)};xc_fc[xc_fc.length]=xc_bp;
